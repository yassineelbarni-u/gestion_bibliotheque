<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:ui="jakarta.faces.facelets">
<ui:composition template="/template.xhtml">
    
    <ui:define name="title">
        #{adherentBean.adherent.id == 0 ? 'Ajouter' : 'Modifier'} un adhérent
    </ui:define>

    <ui:define name="content">
        
        <style>
            .form-container {
                max-width: 500px;
                margin: 0 auto;
            }
            .form-group {
                margin-bottom: 20px;
            }
            .form-label {
                display: block;
                margin-bottom: 5px;
                font-weight: bold;
                color: #333;
            }
            .form-input {
                width: 100%;
                padding: 10px;
                border: 1px solid #ddd;
                border-radius: 5px;
                box-sizing: border-box;
                font-size: 14px;
            }
            .form-input:focus {
                border-color: #007bff;
                outline: none;
                box-shadow: 0 0 5px rgba(0,123,255,0.2);
            }
            .error-message {
                color: #dc3545;
                font-size: 0.9em;
                margin-top: 5px;
                display: block;
            }
            .form-actions {
                margin-top: 30px;
                display: flex;
                gap: 10px; 
            }
        </style>

        <h2>#{adherentBean.adherent.id == 0 ? ' Ajouter' : ' Modifier'} un adhérent</h2>
        
        <h:form styleClass="form-container">
            <h:inputHidden value="#{adherentBean.adherent.id}"/>
            
            <div class="form-group">
                <h:outputLabel value="Nom:" for="nom" styleClass="form-label"/>
                <h:inputText id="nom" value="#{adherentBean.adherent.nom}" required="true"
                             styleClass="form-input"
                             requiredMessage="Le nom est obligatoire."/>
                <h:message for="nom" styleClass="error-message"/>
            </div>
            
            <div class="form-group">
                <h:outputLabel value="Prénom:" for="prenom" styleClass="form-label"/>
                <h:inputText id="prenom" value="#{adherentBean.adherent.prenom}" required="true"
                             styleClass="form-input"
                             requiredMessage="Le prénom est obligatoire."/>
                <h:message for="prenom" styleClass="error-message"/>
            </div>
            
            <div class="form-group">
                <h:outputLabel value="Email:" for="email" styleClass="form-label"/>
                <h:inputText id="email" value="#{adherentBean.adherent.email}" required="true"
                             styleClass="form-input"
                             requiredMessage="L'email est obligatoire.">
                    <f:validateRegex pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"/>
                </h:inputText>
                <h:message for="email" styleClass="error-message"/>
            </div>
            
            <div class="form-group">
                <h:outputLabel value="Téléphone:" for="telephone" styleClass="form-label"/>
                <h:inputText id="telephone" value="#{adherentBean.adherent.telephone}"
                             styleClass="form-input"/>
            </div>
            
            <div class="form-actions">
                <h:commandButton 
                    value="#{adherentBean.adherent.id == 0 ? 'Ajouter' : 'Modifier'}" 
                    action="#{adherentBean.enregistrer}"
                    styleClass="btn btn-primary"/>
                
                <h:button value="Annuler" outcome="adherents" styleClass="btn btn-danger"/>
            </div>
        </h:form>
        
    </ui:define>
</ui:composition>
</html>